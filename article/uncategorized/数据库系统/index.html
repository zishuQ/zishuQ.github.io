<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>zishuQ's blog | zishuQ's blog</title><meta name="author" content="zishuQ"><meta name="copyright" content="zishuQ"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第1章 绪论1. 数据库的4个基本概念 数据（data）：描述事物的符号记录成为数据 数据库（DataBase，DB）：数据库是长期储存在计算机内、有组织的、可共享的大量数据的集合 数据库管理系统（DataBase Management System，DBMS）：数据库管理系统是位于用户与操作系统之间的一层数据管理软件 数据库系统（DataBase System，DBS）：数据库系统是由数据库、数">
<meta property="og:type" content="article">
<meta property="og:title" content="zishuQ&#39;s blog">
<meta property="og:url" content="https://zishuq.github.io/article/uncategorized/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="zishuQ&#39;s blog">
<meta property="og:description" content="第1章 绪论1. 数据库的4个基本概念 数据（data）：描述事物的符号记录成为数据 数据库（DataBase，DB）：数据库是长期储存在计算机内、有组织的、可共享的大量数据的集合 数据库管理系统（DataBase Management System，DBMS）：数据库管理系统是位于用户与操作系统之间的一层数据管理软件 数据库系统（DataBase System，DBS）：数据库系统是由数据库、数">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg">
<meta property="article:published_time" content="2024-01-06T13:21:05.606Z">
<meta property="article:modified_time" content="2024-01-10T06:49:17.271Z">
<meta property="article:author" content="zishuQ">
<meta property="article:tag" content="zishuQ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg"><link rel="canonical" href="https://zishuq.github.io/article/uncategorized/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'zishuQ\'s blog',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-10 14:49:17'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">57</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302205350.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="zishuQ's blog"><img class="site-icon" src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg"/><span class="site-name">zishuQ's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-06T13:21:05.606Z" title="发表于 2024-01-06 21:21:05">2024-01-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-10T06:49:17.271Z" title="更新于 2024-01-10 14:49:17">2024-01-10</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第1章-绪论"><a href="#第1章-绪论" class="headerlink" title="第1章 绪论"></a>第1章 绪论</h1><h2 id="1-数据库的4个基本概念"><a href="#1-数据库的4个基本概念" class="headerlink" title="1. 数据库的4个基本概念"></a>1. 数据库的4个基本概念</h2><ol>
<li>数据（data）：描述事物的符号记录成为<strong>数据</strong></li>
<li>数据库（DataBase，DB）：<strong>数据库</strong>是长期储存在计算机内、有组织的、可共享的大量数据的集合</li>
<li>数据库管理系统（DataBase Management System，DBMS）：<strong>数据库管理系统</strong>是位于用户与操作系统之间的一层数据管理软件</li>
<li>数据库系统（DataBase System，DBS）：<strong>数据库系统</strong>是由数据库、数据库管理系统、应用程序和数据库管理员组成的存储、管理、处理和维护数据的系统</li>
</ol>
<h2 id="2-数据库系统的特点"><a href="#2-数据库系统的特点" class="headerlink" title="2. 数据库系统的特点"></a>2. 数据库系统的特点</h2><ol>
<li>数据结构化</li>
<li>数据的共享性高、冗余度低且易扩充</li>
<li>数据独立性高</li>
<li>数据由数据库管理系统统一管理和控制</li>
</ol>
<h2 id="3-数据模型的组成要素（三要素）"><a href="#3-数据模型的组成要素（三要素）" class="headerlink" title="3. 数据模型的组成要素（三要素）"></a>3. 数据模型的组成要素（三要素）</h2><ol>
<li>数据结构：<strong>数据结构</strong>描述数据库的组成对象以及对象之间的联系</li>
<li>数据操作：<strong>数据操作</strong>是指对数据库中各种对象（型）的实例（值）允许执行的操作的集合，包括操作及有关的操作规则</li>
<li>数据的完整性约束条件：数据的完整性约束条件是一组完整性规则</li>
</ol>
<h2 id="4-数据库系统的模型"><a href="#4-数据库系统的模型" class="headerlink" title="4. 数据库系统的模型"></a>4. 数据库系统的模型</h2><ul>
<li><strong>数据模型</strong>：包括概念模型（信息模型）和逻辑模型&#x2F;物理模型</li>
<li><strong>概念模型</strong>：按用户的观点建模，用于数据库设计，表示方法有E-R模型</li>
<li><strong>逻辑模型</strong>：按计算机的观点建模，用于DBMS实现，包括层次模型、网状模型、关系模型等</li>
</ul>
<h3 id="层次模型"><a href="#层次模型" class="headerlink" title="层次模型"></a>层次模型</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108092700281.png" alt="image-20240108092700281"></p>
<ol>
<li>有且只有一个结点没有双亲结点，这个结点称为根结点</li>
<li>根以外的其他结点有且只有一个双亲结点</li>
</ol>
<h3 id="网状模型"><a href="#网状模型" class="headerlink" title="网状模型"></a>网状模型</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108092808622.png" alt="image-20240108092808622"></p>
<ol>
<li>允许一个以上的结点无双亲</li>
<li>一个结点可以有多于一个的双亲</li>
</ol>
<h3 id="关系模型"><a href="#关系模型" class="headerlink" title="关系模型"></a>关系模型</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108093203223.png" alt="image-20240108093203223"></p>
<p>从用户的观点看，关系模型由一组关系组成。每个关系的数据结构是一张规范化的二维表。</p>
<ol>
<li>关系：一个<strong>关系</strong>对应通常说的一张表</li>
<li>元组：表中的一行即为一个<strong>元组</strong></li>
<li>属性：表中的一列即为一个<strong>属性</strong>，给每一个属性起一个名字即属性名</li>
<li>码：也称为码键。表中的某个属性组，它可以唯一确定一个元组</li>
<li>域：<strong>域</strong>是一组具有相同数据类型的值的集合</li>
<li>分量：元组中的一个属性值</li>
<li>关系模式：对关系的描述，一般表示为 $关系名(属性1, 属性2, …, 属性n)$</li>
</ol>
<ul>
<li><strong>物理模型</strong>：是对数据最底层的抽象</li>
</ul>
<h2 id="5-数据库系统的三级模式结构"><a href="#5-数据库系统的三级模式结构" class="headerlink" title="5. 数据库系统的三级模式结构"></a>5. 数据库系统的三级模式结构</h2><p><strong>数据库的三级模式结构</strong>是指数据库系统是由外模式、模式和内模式三级构成</p>
<p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108094804780.png" alt="image-20240108094804780"></p>
<ol>
<li>模式：<strong>模式</strong>也称<strong>逻辑模式</strong>，是数据库中全体数据的逻辑结构和特征的描述，是所有用户的公共数据视图</li>
<li>外模式：<strong>外模式</strong>也称<strong>子模式或用户模式</strong>，它是数据库用户能够看见和使用的局部数据的逻辑结构和特征的描述，是数据库用户的数据视图，是与某一应用有关的数据的逻辑表示</li>
<li>内模式：<strong>内模式</strong>也称<strong>存储模式</strong>，一个数据库只有一个内模式。它是数据物理结构和存储方式的描述，是数据在数据库内部的组织方式</li>
</ol>
<h2 id="6-数据库的二级映像功能与数据独立性（两个独立性）"><a href="#6-数据库的二级映像功能与数据独立性（两个独立性）" class="headerlink" title="6. 数据库的二级映像功能与数据独立性（两个独立性）"></a>6. 数据库的二级映像功能与数据独立性（两个独立性）</h2><ol>
<li>外模式 &#x2F; 模式映像：保证了数据的逻辑独立性<br>当模式改变时，对外模式&#x2F;模式的映像做出改变，保证外模式不变，应用程序由外模式编写，从而应用程序不变</li>
<li>模式 &#x2F; 内模式映像：保证了数据的物理独立性<br>当数据库的存储结构改变时，对模式&#x2F;内模式映像做出改变，使模式不变，进而应用程序不变</li>
</ol>
<h1 id="第2章-关系数据库"><a href="#第2章-关系数据库" class="headerlink" title="第2章 关系数据库"></a>第2章 关系数据库</h1><h2 id="1-关系（基本关系性质）"><a href="#1-关系（基本关系性质）" class="headerlink" title="1. 关系（基本关系性质）"></a>1. 关系（基本关系性质）</h2><ol>
<li>列是同质的，即每一列中的分量是同一类型的数据，来自同一个域</li>
<li>不同的列可出自同一个域，称其中的每一个列为一个属性，不同的属性要给予不同的属性名</li>
<li>列的顺序无所谓，即列的次序可以任意交换</li>
<li>任意两个元组的候选码不能取相同的值</li>
<li>行的顺序无所谓，即行的次序可以任意交换</li>
<li>分量必须取原子值，即每一个分量都必须是不可分的数据项</li>
</ol>
<h2 id="2-关系的完整性（完整性规则）"><a href="#2-关系的完整性（完整性规则）" class="headerlink" title="2. 关系的完整性（完整性规则）"></a>2. 关系的完整性（完整性规则）</h2><ol>
<li>实体完整性规则：若属性A是基本关系R的主属性，则A不能取空值。所谓空值就是“不知道”或“不存在”或“无意义”的值</li>
<li>参照完整性规则：若属性F是基本关系R的外码，它与基本关系S的主码$K_S$相对应，则对于R中的每个元组在F上的值必须：<ul>
<li>或者取空值</li>
<li>或者等于S中某个元组的主码值</li>
</ul>
</li>
<li>用户定义的完整性：<strong>用户定义的完整性</strong>就是针对某一具体关系数据库的约束条件，它反映某一具体应用所涉及的数据必须满足的语义要求</li>
</ol>
<h2 id="3-关系代数（写出相应查询）"><a href="#3-关系代数（写出相应查询）" class="headerlink" title="3. 关系代数（写出相应查询）"></a>3. 关系代数（写出相应查询）</h2><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108110148803.png" alt="image-20240108110148803"></p>
<p>传统的集合运算：并、差、交、笛卡儿积</p>
<p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108110416034.png" alt="image-20240108110416034"></p>
<p>专门的关系运算：选择、投影、连接、除运算</p>
<h3 id="选择"><a href="#选择" class="headerlink" title="选择"></a>选择</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108110800638.png" alt="image-20240108110800638"></p>
<p>从行的角度进行的运算</p>
<h3 id="投影"><a href="#投影" class="headerlink" title="投影"></a>投影</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108110816657.png" alt="image-20240108110816657"></p>
<p>从列的角度进行的运算</p>
<h3 id="连接"><a href="#连接" class="headerlink" title="连接"></a>连接</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108110903376.png" alt="image-20240108110903376"></p>
<ol>
<li>等值连接：从关系R与S的广义笛卡儿积中选取A、B属性值相等的那些元组</li>
<li>自然连接：一种特殊的等值连接。要求两个关系中进行比较的分量必须是同名的属性组，并且在结果中把重复的属性列去掉</li>
</ol>
<p><img src="/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/image-20240108112650288.png" alt="image-20240108112650288"></p>
<p>悬浮元组：被舍弃的元组（例如$b_4$、$b_5$）</p>
<ol>
<li>外连接：悬浮元组也保存在结果关系中，而在其他属性上填空值（NULL）。记作 R ⟗ S</li>
<li>左外连接：只保留左边关系R中的悬浮元组。记作 R ⟕ S</li>
<li>右外连接：只保留右边关系S中的悬浮元组。记作 R ⟖ S</li>
</ol>
<h3 id="除运算"><a href="#除运算" class="headerlink" title="除运算"></a>除运算</h3><p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108113428550.png" alt="image-20240108113428550"></p>
<p>设关系R除以关系S的结果为关系T，则T中包含所有在R但不在S中的属性及其值，且T的元组与S的元组的所有集合都在R中。</p>
<p>用<strong>象集</strong>定义的除法：给定关系 R(X, Y) 和 S(Y, Z)，其中X、Y、Z为属性组。R中的Y与S中的Y可以有不同的属性名，但必须出自相同的域集</p>
<h1 id="第3章-关系数据库标准语言SQL"><a href="#第3章-关系数据库标准语言SQL" class="headerlink" title="第3章 关系数据库标准语言SQL"></a>第3章 关系数据库标准语言SQL</h1><h2 id="1-数据查询"><a href="#1-数据查询" class="headerlink" title="1. 数据查询"></a>1. 数据查询</h2><p>不相关子查询：子查询的查询条件不依赖于父查询</p>
<p>相关子查询：子查询的查询条件依赖于父查询，整个查询语句称为<strong>相关嵌套查询</strong></p>
<h2 id="2-视图"><a href="#2-视图" class="headerlink" title="2. 视图"></a>2. 视图</h2><h3 id="定义视图"><a href="#定义视图" class="headerlink" title="定义视图"></a>定义视图</h3><p>数据库中只存放视图的定义，而不存放视图对应的数据，这些数据仍存放在原来的基本表中</p>
<p>行列子集视图：从<strong>单个基本表</strong>导出的，并且只是去掉了基本表的某些行和某些列，但保留了主码的视图</p>
<h3 id="视图的作用"><a href="#视图的作用" class="headerlink" title="视图的作用"></a>视图的作用</h3><ol>
<li>视图能够简化用户的操作</li>
<li>视图使用户能以多种角度看待同一数据</li>
<li>视图对重构数据库提供了一定程度的逻辑独立性</li>
<li>视图能够对机密数据提供安全保护</li>
<li>适当利用视图可以更清晰地表达查询</li>
</ol>
<h1 id="第4章-数据库安全性"><a href="#第4章-数据库安全性" class="headerlink" title="第4章 数据库安全性"></a>第4章 数据库安全性</h1><h2 id="1-数据库安全性控制"><a href="#1-数据库安全性控制" class="headerlink" title="1. 数据库安全性控制"></a>1. 数据库安全性控制</h2><ol>
<li>用户身份鉴别<ul>
<li>静态口令鉴别</li>
<li>动态口令鉴别</li>
<li>生物特征鉴别</li>
<li>智能卡鉴别</li>
</ul>
</li>
<li>存取控制<ul>
<li>定义用户权限</li>
<li>合法权限检查</li>
</ul>
</li>
</ol>
<h3 id="自主存取控制方法"><a href="#自主存取控制方法" class="headerlink" title="自主存取控制方法"></a>自主存取控制方法</h3><p>用户对于不同的数据库对象有不同的存取权限，不同的用户对同一对象也有不同的权限，而且用户还可将其拥有的存取权限转授给其他用户。因此自主存取控制非常灵活。</p>
<h3 id="强制存取控制方法（安全性级别高）"><a href="#强制存取控制方法（安全性级别高）" class="headerlink" title="强制存取控制方法（安全性级别高）"></a>强制存取控制方法（安全性级别高）</h3><p>每一个数据库对象被标以一定的密级，每一个用户也被授予某一个级别的许可证。对于任意一个对象，只有具有合法许可证的用户才可以存取。强制存取控制因此相对比较严格。</p>
<h1 id="第5章-数据库完整性"><a href="#第5章-数据库完整性" class="headerlink" title="第5章 数据库完整性"></a>第5章 数据库完整性</h1><h2 id="1-概念"><a href="#1-概念" class="headerlink" title="1. 概念"></a>1. 概念</h2><p><strong>数据库的完整性</strong>是指数据的正确性和相容性。</p>
<p>正确性：数据是符合现实世界语义、反应当前实际状况的</p>
<p>相容性：数据库同一对象在不同关系表中的数据是符合逻辑的</p>
<h2 id="2-实体完整性"><a href="#2-实体完整性" class="headerlink" title="2. 实体完整性"></a>2. 实体完整性</h2><p>概念：主码唯一且非空</p>
<p>SQL定义：关系模型的实体完整性在CREATE TABLE中用<strong>PRIMARY KEY</strong>定义</p>
<p>【示例1】将Student表中的Sno属性定义为码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">PRIMARY</span> KEY,   <span class="comment">/*在列级定义主码*/</span></span><br><span class="line">     Sname <span class="type">CHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Ssex <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">     Sage <span class="type">SMALLINT</span>,</span><br><span class="line">     Sdept <span class="type">CHAR</span>(<span class="number">20</span>)</span><br><span class="line">    );</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">     Sname <span class="type">CHAR</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Ssex <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">     Sage <span class="type">SMALLINT</span>,</span><br><span class="line">     Sdept <span class="type">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Sno)           <span class="comment">/*在表级定义主码*/</span></span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<p>【示例2】将SC表中的Sno、Cno属性组定义为码</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Cno <span class="type">CHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Grade <span class="type">SMALLINT</span>,</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Sno,Cno)      <span class="comment">/*只能在表级定义主码*/</span></span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<p>检查与违约处理：</p>
<ol>
<li>检查主码是否唯一，如果不唯一则拒绝插入或修改</li>
<li>检查主码各个属性是否为空，只要有一个为空就拒绝插入或修改</li>
</ol>
<h2 id="3-参照完整性"><a href="#3-参照完整性" class="headerlink" title="3. 参照完整性"></a>3. 参照完整性</h2><p>概念：外码的约束</p>
<p>SQL定义：关系模型的参照完整性在CREATE TABLE中用<strong>FOREIGN KEY</strong>短语定义哪些列为外码，用<strong>REFERENCES</strong>短语指明这些外码参照哪些表的主码</p>
<p>【示例3】定义SC中的参照完整性</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Cno <span class="type">CHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Grade <span class="type">SMALLINT</span>,</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Sno,Cno),                     <span class="comment">/*在表级定义实体完整性*/</span></span><br><span class="line">     <span class="keyword">FOREIGN</span> KEY (Sno) <span class="keyword">REFERENCES</span> Student(Sno), <span class="comment">/*在表级定义参照完整性*/</span></span><br><span class="line">     <span class="keyword">FOREIGN</span> KEY (Cno) <span class="keyword">REFERENCES</span> Course(Cno)   <span class="comment">/*在表级定义参照完整性*/</span></span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<p>检查与违约处理：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240108143636649.png" alt="image-20240108143636649"></p>
<ol>
<li>拒绝（NO ACTION）执行：不允许该操作执行。该策略一般设置为<strong>默认策略</strong></li>
<li>级联（CASCADE）操作：当删除或修改被参照表（Student）的一个元组导致与参照表（SC）的不一致时，删除或修改参照表中的所有导致不一致的元组</li>
<li>设置为空值：当删除或修改被参照表的一个元组时造成了不一致，则将参照表中的所有造成不一致的元组的对应属性设置为空值</li>
</ol>
<h2 id="4-用户定义的完整性"><a href="#4-用户定义的完整性" class="headerlink" title="4. 用户定义的完整性"></a>4. 用户定义的完整性</h2><p>概念：用户定义的完整性就是针对某一具体应用的数据必须满足的语义要求</p>
<h3 id="属性上的约束条件"><a href="#属性上的约束条件" class="headerlink" title="属性上的约束条件"></a>属性上的约束条件</h3><ol>
<li><p>列值非空（NOT NULL）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Cno <span class="type">CHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Grade <span class="type">SMALLINT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Sno,Cno),</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>
</li>
<li><p>列值唯一（UNIQUE）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> DEPT</span><br><span class="line">    (Deptno NUMBERIC(<span class="number">2</span>),</span><br><span class="line">     Dname <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">UNIQUE</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Location <span class="type">CHAR</span>(<span class="number">10</span>),</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Deptno)</span><br><span class="line">    )</span><br></pre></td></tr></table></figure>
</li>
<li><p>检查列值是否满足一个条件表达式（CHECK短语）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Cno <span class="type">CHAR</span>(<span class="number">4</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Ssex <span class="type">CHAR</span>(<span class="number">2</span>) <span class="keyword">CHECK</span> (Ssex <span class="keyword">IN</span> (<span class="string">&#x27;男&#x27;</span>,<span class="string">&#x27;女&#x27;</span>)),</span><br><span class="line">     Grade <span class="type">SMALLINT</span> <span class="keyword">CHECK</span> (Grade<span class="operator">&gt;=</span><span class="number">0</span> <span class="keyword">AND</span> Grade<span class="operator">&lt;=</span><span class="number">100</span>),</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY (Sno,Cno),</span><br><span class="line">     <span class="keyword">FOREIGN</span> KEY (Sno) <span class="keyword">REFERENCES</span> Student(Sno),</span><br><span class="line">     <span class="keyword">FOREIGN</span> KEY (Cno) <span class="keyword">REFERENCES</span> Course(Cno)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure></li>
</ol>
<p>检查和违约处理：当向表中插入元组或者修改属性值时，关系数据库管理系统将检查属性上的约束条件是否被满足，如果不满足则操作被拒绝执行</p>
<h3 id="元组上的约束条件"><a href="#元组上的约束条件" class="headerlink" title="元组上的约束条件"></a>元组上的约束条件</h3><p>SQL定义：与属性上约束条件的定义类似，在CREATE TABLE语句中可以用<strong>CHECK</strong>短语定义元组上的约束条件，即元组级的限制。同属性值限制相比，元组级的限制可以设置不同属性之间的取值的相互约束条件。</p>
<p>【示例4】当学生的性别是男时，其名字不能以**Ms.**打头</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">    (Sno <span class="type">CHAR</span>(<span class="number">9</span>),</span><br><span class="line">     Sname <span class="type">CHAR</span>(<span class="number">8</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">     Ssex <span class="type">CHAR</span>(<span class="number">2</span>),</span><br><span class="line">     Sage <span class="type">SMALLINT</span>,</span><br><span class="line">     Sdept <span class="type">CHAR</span>(<span class="number">20</span>),</span><br><span class="line">     <span class="keyword">PRIMARY</span> KEY(Sno),</span><br><span class="line">     <span class="keyword">CHECK</span> (Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span> <span class="keyword">OR</span> Sname <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;MS.%&#x27;</span>)</span><br><span class="line">    );</span><br></pre></td></tr></table></figure>

<p>检查和违约处理：当往表中插入元组或者修改属性值时，关系数据库管理系统将检查元组上的约束条件是否被满足，如果不满足则操作被拒绝执行</p>
<h1 id="第6章-关系数据理论"><a href="#第6章-关系数据理论" class="headerlink" title="第6章 关系数据理论"></a>第6章 关系数据理论</h1><h2 id="1-函数依赖"><a href="#1-函数依赖" class="headerlink" title="1. 函数依赖"></a>1. 函数依赖</h2><p>设R(U)是属性集U上的关系模式，X，Y是U的子集。若对于R(U)的任意一个可能的关系r，r中不可能存在两个元组在X上的属性值相等，而在Y上的属性值不等，则称<strong>X函数确定Y</strong>或<strong>Y函数依赖于X</strong>，记作$X \rightarrow Y$</p>
<h3 id="异常分类"><a href="#异常分类" class="headerlink" title="异常分类"></a>异常分类</h3><ol>
<li>数据冗余</li>
<li>更新异常</li>
<li>插入异常</li>
<li>删除异常</li>
</ol>
<h3 id="什么是非主属性"><a href="#什么是非主属性" class="headerlink" title="什么是非主属性"></a>什么是非主属性</h3><p>主属性：包含在任何一个候选码中的属性称为<strong>主属性</strong></p>
<p>非主属性：不包含在任何候选码中的属性称为<strong>非主属性</strong></p>
<h2 id="2-范式概念"><a href="#2-范式概念" class="headerlink" title="2. 范式概念"></a>2. 范式概念</h2><ol>
<li><p>1NF概念：所有属性都属不可分割的数据项</p>
</li>
<li><p>2NF概念：若$R \in 1NF$，且每一个<strong>非主属性</strong>完全函数依赖于任何一个候选码，则$R \in 2NF$</p>
<p>一个关系模式R不属于2NF产生的问题：</p>
<ul>
<li>插入异常</li>
<li>删除异常</li>
<li>修改复杂</li>
</ul>
</li>
<li><p>3NF概念：设关系模式$R&lt;U,F&gt; \in 1NF$，若R中不存在这样的码X，属性组Y及非主属性Z（$Z \notin Y$）使得$X \in Y,Y \in Z$成立，$Y \notin X$，则称$R&lt;U,F&gt; \in 3NF$<br>每一个非主属性既不传递依赖于码，也不部分依赖于码。</p>
</li>
<li><p>BCNF概念：关系模式$R&lt;U,F&gt; \in 1NF$，若$X \rightarrow Y$且$Y \notin X$时X必含有码，则$R&lt;U,F&gt; \in BCNF$</p>
<ul>
<li>所有非主属性对每一个码都是完全函数依赖</li>
<li>所有主属性对每一个不包含它的码也是完全函数依赖</li>
<li>没有任何属性完全函数依赖于非码的任何一组属性</li>
</ul>
</li>
</ol>
<h2 id="3-数据依赖的公理系统"><a href="#3-数据依赖的公理系统" class="headerlink" title="3. 数据依赖的公理系统"></a>3. 数据依赖的公理系统</h2><p>$F^+$：F所逻辑蕴含的函数依赖的全体叫做F的<strong>闭包</strong></p>
<p>$X_F^+$：属性集X关于函数依赖集F的闭包</p>
<p>极小函数依赖集</p>
<ol>
<li>F中任一函数依赖的右部仅含有一个属性</li>
<li>F中不存在这样的函数依赖$X \rightarrow A$，使得F与$F-{X \rightarrow A}$等价（没有多余的）</li>
<li>F中不存在这样的函数依赖$X \rightarrow A$，X有真子集Z使得$F-{X \rightarrow A} \cup {Z \rightarrow A}$与F等价（简化左部）</li>
</ol>
<p>求候选码</p>
<ul>
<li><p>左属性：在F中仅出现在左部</p>
</li>
<li><p>右属性：在F中仅出现在右部</p>
</li>
<li><p>孤立属性：在F中从未出现</p>
<p> 结论：左属性和孤立属性一定包含在任何候选码中；右属性一定不包含在任何候选码中</p>
</li>
</ul>
<h2 id="4-模式的分解"><a href="#4-模式的分解" class="headerlink" title="4. 模式的分解"></a>4. 模式的分解</h2><h3 id="4-1-模式分解的三个定义"><a href="#4-1-模式分解的三个定义" class="headerlink" title="4.1 模式分解的三个定义"></a>4.1 模式分解的三个定义</h3><ol>
<li>分解具有<strong>无损连接性</strong></li>
<li>分解要<strong>保持函数依赖性</strong></li>
<li>分解既要保持函数依赖，又要具有无损连接性</li>
</ol>
<h3 id="4-2-分解的无损连接性和保持函数依赖性（课本上的算法）"><a href="#4-2-分解的无损连接性和保持函数依赖性（课本上的算法）" class="headerlink" title="4.2 分解的无损连接性和保持函数依赖性（课本上的算法）"></a>4.2 分解的无损连接性和保持函数依赖性（课本上的算法）</h3><h1 id="第7章-数据库设计"><a href="#第7章-数据库设计" class="headerlink" title="第7章 数据库设计"></a>第7章 数据库设计</h1><h2 id="1-数据字典"><a href="#1-数据字典" class="headerlink" title="1. 数据字典"></a>1. 数据字典</h2><p><strong>数据字典</strong>是进行详细的树收集和数据分析所获得的主要成果。它是关于数据库中数据的描述，即元数据，而不是数据本身。数据字典是在需求分析阶段建立，在数据库涉及过程中不断修改、充实、完善的。它在数据库设计中占有很重要的地位。</p>
<ol>
<li>数据项：<strong>数据项</strong>是不可再分的数据单位</li>
<li>数据结构：<strong>数据结构</strong>反映了数据之间的组合关系</li>
<li>数据流：<strong>数据流</strong>是数据结构在系统内传输的路径</li>
<li>数据存储：<strong>数据存储</strong>是数据结构停留或保存的地方</li>
<li>处理过程：<strong>处理过程</strong>的具体处理逻辑一般用判定表或判定树来描述</li>
</ol>
<h2 id="2-概念模型"><a href="#2-概念模型" class="headerlink" title="2. 概念模型"></a>2. 概念模型</h2><p>转换规则（会根据概念模型画E-R图）</p>
<h2 id="3-E-R模型"><a href="#3-E-R模型" class="headerlink" title="3. E-R模型"></a>3. E-R模型</h2><p>解决三类冲突</p>
<ol>
<li><p>属性冲突</p>
<ul>
<li>属性域冲突，即属性值的类型、取值范围或取值集合不同</li>
<li>属性取值单位冲突</li>
</ul>
</li>
<li><p>命名冲突</p>
<ul>
<li>同名异义，即不同意义的对象在不同的局部应用中具有相同的名字</li>
<li>异名同义（一义多名），即同一意义的对象在不同的局部应用中具有不同的名字</li>
</ul>
</li>
<li><p>结构冲突：</p>
<ul>
<li>同一对象在不同应用中具有不同的抽象</li>
<li>同一实体在不同子系统的E-R图中所包含的属性个数和属性排列次序不完全相同</li>
<li>实体间的联系在不同的E-R图中为不同的类型</li>
</ul>
</li>
</ol>
<h1 id="第9章-关系查询处理和查询优化"><a href="#第9章-关系查询处理和查询优化" class="headerlink" title="第9章 关系查询处理和查询优化"></a>第9章 关系查询处理和查询优化</h1><h2 id="1-查询处理步骤"><a href="#1-查询处理步骤" class="headerlink" title="1. 查询处理步骤"></a>1. 查询处理步骤</h2><ol>
<li>查询分析</li>
<li>查询检查</li>
<li>查询优化</li>
<li>查询执行</li>
</ol>
<h2 id="2-关系数据库系统的查询优化"><a href="#2-关系数据库系统的查询优化" class="headerlink" title="2. 关系数据库系统的查询优化"></a>2. 关系数据库系统的查询优化</h2><p>总代价 &#x3D; I&#x2F;O代价 + CPU代价 + 内存代价 + 通信代价</p>
<ol>
<li>选择有效的策略</li>
<li>求得给定关系表达式的值</li>
<li>使得查询代价较小</li>
</ol>
<h2 id="3-代数优化（查询树）"><a href="#3-代数优化（查询树）" class="headerlink" title="3. 代数优化（查询树）"></a>3. 代数优化（查询树）</h2><ol>
<li><strong>选择运算</strong>应尽可能先做</li>
<li>把<strong>投影运算</strong>和<strong>选择运算</strong>同时进行</li>
<li>把<strong>投影</strong>同其前或其后的双目运算结合起来</li>
<li>把某些<strong>选择</strong>同它在前面要执行的<strong>笛卡儿积</strong>结合起来成为一个<strong>连接运算</strong></li>
<li>找出公共子表达式</li>
</ol>
<h1 id="第10章-数据库恢复技术"><a href="#第10章-数据库恢复技术" class="headerlink" title="第10章 数据库恢复技术"></a>第10章 数据库恢复技术</h1><h2 id="1-事务的基本概念（四个特性）"><a href="#1-事务的基本概念（四个特性）" class="headerlink" title="1. 事务的基本概念（四个特性）"></a>1. 事务的基本概念（四个特性）</h2><p>事务：<strong>事务</strong>是用户定义的一个数据库操作序列，这些操作要么全做，要么全不做，是一个不可分割的工作单位</p>
<p>特性（ACID）：</p>
<ol>
<li>原子性：事务中的诸操作要么都做，要么都不做</li>
<li>一致性：事务执行的结果必须一致。如果一个事务被迫中断，即事务中的一些操作做了，剩下的还没做，且做了的对数据库造成的修改已经存入物理数据库的话，就会造成数据库处于不一致的状态。因此事务要么全做，要么全不做，一致性和原子性是密切相关的</li>
<li>隔离性：一个事务的执行不能被其他事务干扰</li>
<li>持续性：一个事务一旦提交，它对数据库中数据的改变应该是永久性的</li>
</ol>
<h2 id="2-故障的种类"><a href="#2-故障的种类" class="headerlink" title="2. 故障的种类"></a>2. 故障的种类</h2><ol>
<li>事务内部的故障：事务内部的故障有的是可以通过事务程序本身发现的，有的是非预期的、不能由事务程序处理的。事务故障的情况，数据库可能处于不正确的状态。恢复程序要在不影响其他事务运行的情况下，强行回滚该事务，即撤销该事务造成的修改，这类恢复操作称为UNDO（事务撤销）</li>
<li>系统故障（软故障）：系统故障是指造成系统停止运转的任何事件，使得系统要重新启动（例如硬件错误、操作系统故障、DBMS代码错误、系统断电等等）</li>
<li>介质故障（硬故障）：外存故障，如磁盘损坏、磁头碰撞、瞬时强磁场干扰等</li>
<li>计算机病毒</li>
</ol>
<h2 id="3-恢复的实现技术"><a href="#3-恢复的实现技术" class="headerlink" title="3. 恢复的实现技术"></a>3. 恢复的实现技术</h2><ol>
<li>数据转储：<strong>转储</strong>即数据库管理员定期地将整个数据库复制到磁带、磁盘或其他存储介质上保存起来的过程。这些备用的数据称为<strong>后备副本</strong>或<strong>后援副本</strong><ul>
<li>按状态：静态转储（在系统中无运行事务时进行）、动态转储（转储期间允许对数据库进行存取或修改）</li>
<li>按方式：海量转储（每次转储全部数据库）、增量转储（每次只转储上一次转储后更新过的数据）</li>
<li>按方法：动态海量转储、动态增量转储、静态海量转储、静态增量转储</li>
</ul>
</li>
<li>登记日志文件<ul>
<li>以记录为单位的日志文件</li>
<li>以数据块为单位的日志文件<ul>
<li>日志记录的内容：事务标识、被更新的数据块</li>
</ul>
</li>
</ul>
</li>
</ol>
<h3 id="3-1-日志文件"><a href="#3-1-日志文件" class="headerlink" title="3.1 日志文件"></a>3.1 日志文件</h3><p>含义：<strong>日志文件</strong>是用来记录事务对数据库的更新操作的文件</p>
<p>需要登记的内容：</p>
<ul>
<li>各个事务的开始（BEGIN TRANSACTION）标记</li>
<li>各个事务的结束（COMMIT&#x2F;ROLLBACK）标志</li>
<li>各个事务的所有更新操作</li>
</ul>
<p>日志记录的内容：</p>
<ul>
<li>事务标识（标明哪个是事务）</li>
<li>操作的类型（增删改）</li>
<li>操作对象（记录内部标识）</li>
<li>更新前数据的旧值（对插入而言，此项为空值）</li>
<li>更新后数据的新值（对删除而言，此项为空值）</li>
</ul>
<p>规则：</p>
<ul>
<li>登记的次序严格按并发事务执行的时间次序</li>
<li>必须先写日志文件，后写数据库</li>
</ul>
<h2 id="4-恢复策略"><a href="#4-恢复策略" class="headerlink" title="4. 恢复策略"></a>4. 恢复策略</h2><ol>
<li>事务故障的恢复：由系统自动完成，对用户透明：利用日志文件撤销此事务已对数据库进行的修改</li>
<li>系统故障的恢复：由系统重新启动时自动完成</li>
<li>介质故障的恢复：</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240109165914920.png" alt="image-20240109165914920"></p>
<h1 id="第11章-并发控制"><a href="#第11章-并发控制" class="headerlink" title="第11章 并发控制"></a>第11章 并发控制</h1><h2 id="1-封锁协议（一级、二级、三级）"><a href="#1-封锁协议（一级、二级、三级）" class="headerlink" title="1. 封锁协议（一级、二级、三级）"></a>1. 封锁协议（一级、二级、三级）</h2><p>封锁协议：约定何时申请X锁&#x2F;S锁、持续时间、何时释放等</p>
<ol>
<li>一级封锁协议：事务T在<strong>修改数据R</strong>之前必须先对其加<strong>X锁</strong>，直到<strong>事务结束</strong>才释放</li>
<li>二级封锁协议：事务T在<strong>修改数据R</strong>之前必须先对其加<strong>X锁</strong>（一级封锁协议），并且其他事务在<strong>读取数据</strong>之前必须先对其<strong>加S锁</strong>，读完后即可<strong>释放S锁</strong></li>
<li>三级封锁协议：事务T在<strong>修改数据R</strong>之前必须先对其加<strong>X锁</strong>（一级封锁协议），并且其他事务在<strong>读取数据</strong>之前必须先对其<strong>加S锁</strong>，直到<strong>事务结束</strong>后<strong>释放S锁</strong></li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/image-20240109161859976.png" alt="image-20240109161859976"></p>
<h2 id="2-活锁和死锁"><a href="#2-活锁和死锁" class="headerlink" title="2. 活锁和死锁"></a>2. 活锁和死锁</h2><p>活锁：事务T1封锁了数据R，事务T2又请求封锁R，于是T2等待；T3也请求封锁R，当T1释放了R上的封锁之后系统首先批准了T3的请求，T2仍然等待；T4又请求封锁R，当T3释放了R上的封锁之后系统又批准了T4的请求…<strong>T2有可能永远等待</strong>，产生活锁<br>避免活锁：采用先来先服务的策略</p>
<p>死锁：事务T1封锁了数据R1，T2封锁了数据R2,T1又请求封锁R2，因T2已封锁了R2，于是T1等待T2释放R2上的锁，接着T2又申请封锁R1，因T1已封锁了R1，T2也只能等待T1，释放R1上的锁，这样<strong>T1在等待T2，而T2又在等待T1，T1和T2两个事务永远不能结束</strong>，形成死锁<br>解决死锁的方法：</p>
<ol>
<li>死锁的预防<ul>
<li>一次封锁法：每个事务必须一次将所有要使用的数据全部加锁，否则就不能继续执行</li>
<li>顺序封锁法：预先对数据对象规定一个封锁顺序，所有事务按这个顺序实施封锁</li>
</ul>
</li>
<li>死锁的诊断<ul>
<li>超时法：如果一个事务的等待时间超过了规定的时限，就认为发生了死锁</li>
<li>等待图法：预先对数据对象规定一个封锁顺序，所有事务按这个顺序实施封锁</li>
</ul>
</li>
<li>死锁的接触：选择一个处理死锁代价最小的事务，将其撤销，释放此事务持有的所有的锁</li>
</ol>
<h2 id="3-并发调度的可串行化"><a href="#3-并发调度的可串行化" class="headerlink" title="3. 并发调度的可串行化"></a>3. 并发调度的可串行化</h2><h3 id="3-1-可串行化调度"><a href="#3-1-可串行化调度" class="headerlink" title="3.1 可串行化调度"></a>3.1 可串行化调度</h3><p>多个事务的并发执行是正确的，当且仅当其结果与按某一次序串行地执行这些事务时的结果相同。一个给定的并发调度，当且仅当它是可串行化的，才认为是<strong>正确调度</strong></p>
<h3 id="3-2-冲突可串行化调度"><a href="#3-2-冲突可串行化调度" class="headerlink" title="3.2 冲突可串行化调度"></a>3.2 冲突可串行化调度</h3><p>冲突操作：指不同的事务对用一个数据的读写操作（读和写）和写写操作（写和写）</p>
<p>不同事务的冲突操作和同一事务的两个操作是不能交换的，如果发生交换，自然会发生错误。基于此，如果调度能保证冲突操作的次序不变，就称为冲突可串行化的调度。冲突可串行化调度一定是可串行化调度</p>
<h2 id="4-两段锁协议"><a href="#4-两段锁协议" class="headerlink" title="4. 两段锁协议"></a>4. 两段锁协议</h2><ol>
<li>获得封锁（扩展阶段）：在对任何数据进行读、写操作之前，事务首先要获得对该数据的封锁</li>
<li>释放封锁（收缩阶段）：在释放一个封锁之后，事务不再申请和获得任何其他封锁</li>
</ol>
<p>若并发执行的所有事务均遵守两段锁协议，则对这些事务的任何并发调度策略都是可串行化的</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://zishuq.github.io">zishuQ</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zishuq.github.io/article/uncategorized/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/">https://zishuq.github.io/article/uncategorized/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zishuq.github.io" target="_blank">zishuQ's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/article/uncategorized/Pytorch-gpu/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/article/uncategorized/%E5%85%AD%E7%BA%A7%E9%AB%98%E8%81%94/" title=""><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info"></div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://cdn.jsdelivr.net/gh/zishuQ/PicGo/img/202306302200952.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zishuQ</div><div class="author-info__description">用于记录学习内容的个人博客</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">69</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">57</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/zishuQ" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:zishuq77@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0-%E7%BB%AA%E8%AE%BA"><span class="toc-number">1.</span> <span class="toc-text">第1章 绪论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%844%E4%B8%AA%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1. 数据库的4个基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">2. 数据库系统的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B%E7%9A%84%E7%BB%84%E6%88%90%E8%A6%81%E7%B4%A0%EF%BC%88%E4%B8%89%E8%A6%81%E7%B4%A0%EF%BC%89"><span class="toc-number">1.3.</span> <span class="toc-text">3. 数据模型的组成要素（三要素）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.</span> <span class="toc-text">4. 数据库系统的模型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">层次模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%8A%B6%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">网状模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.4.3.</span> <span class="toc-text">关系模型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%89%E7%BA%A7%E6%A8%A1%E5%BC%8F%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.</span> <span class="toc-text">5. 数据库系统的三级模式结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E4%BA%8C%E7%BA%A7%E6%98%A0%E5%83%8F%E5%8A%9F%E8%83%BD%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%8B%AC%E7%AB%8B%E6%80%A7%EF%BC%88%E4%B8%A4%E4%B8%AA%E7%8B%AC%E7%AB%8B%E6%80%A7%EF%BC%89"><span class="toc-number">1.6.</span> <span class="toc-text">6. 数据库的二级映像功能与数据独立性（两个独立性）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC2%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">第2章 关系数据库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%B3%E7%B3%BB%EF%BC%88%E5%9F%BA%E6%9C%AC%E5%85%B3%E7%B3%BB%E6%80%A7%E8%B4%A8%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">1. 关系（基本关系性质）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%85%B3%E7%B3%BB%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7%EF%BC%88%E5%AE%8C%E6%95%B4%E6%80%A7%E8%A7%84%E5%88%99%EF%BC%89"><span class="toc-number">2.2.</span> <span class="toc-text">2. 关系的完整性（完整性规则）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%85%B3%E7%B3%BB%E4%BB%A3%E6%95%B0%EF%BC%88%E5%86%99%E5%87%BA%E7%9B%B8%E5%BA%94%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">2.3.</span> <span class="toc-text">3. 关系代数（写出相应查询）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%89%E6%8B%A9"><span class="toc-number">2.3.1.</span> <span class="toc-text">选择</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%95%E5%BD%B1"><span class="toc-number">2.3.2.</span> <span class="toc-text">投影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5"><span class="toc-number">2.3.3.</span> <span class="toc-text">连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4%E8%BF%90%E7%AE%97"><span class="toc-number">2.3.4.</span> <span class="toc-text">除运算</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC3%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A0%87%E5%87%86%E8%AF%AD%E8%A8%80SQL"><span class="toc-number">3.</span> <span class="toc-text">第3章 关系数据库标准语言SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.1.</span> <span class="toc-text">1. 数据查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%A7%86%E5%9B%BE"><span class="toc-number">3.2.</span> <span class="toc-text">2. 视图</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%A7%86%E5%9B%BE"><span class="toc-number">3.2.1.</span> <span class="toc-text">定义视图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E5%9B%BE%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.2.2.</span> <span class="toc-text">视图的作用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC4%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%80%A7"><span class="toc-number">4.</span> <span class="toc-text">第4章 数据库安全性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E5%85%A8%E6%80%A7%E6%8E%A7%E5%88%B6"><span class="toc-number">4.1.</span> <span class="toc-text">1. 数据库安全性控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E4%B8%BB%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">4.1.1.</span> <span class="toc-text">自主存取控制方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%BA%E5%88%B6%E5%AD%98%E5%8F%96%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95%EF%BC%88%E5%AE%89%E5%85%A8%E6%80%A7%E7%BA%A7%E5%88%AB%E9%AB%98%EF%BC%89"><span class="toc-number">4.1.2.</span> <span class="toc-text">强制存取控制方法（安全性级别高）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC5%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.</span> <span class="toc-text">第5章 数据库完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">1. 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.2.</span> <span class="toc-text">2. 实体完整性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%8F%82%E7%85%A7%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.3.</span> <span class="toc-text">3. 参照完整性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">5.4.</span> <span class="toc-text">4. 用户定义的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.4.1.</span> <span class="toc-text">属性上的约束条件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E4%B8%8A%E7%9A%84%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6"><span class="toc-number">5.4.2.</span> <span class="toc-text">元组上的约束条件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC6%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E7%90%86%E8%AE%BA"><span class="toc-number">6.</span> <span class="toc-text">第6章 关系数据理论</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="toc-number">6.1.</span> <span class="toc-text">1. 函数依赖</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%88%86%E7%B1%BB"><span class="toc-number">6.1.1.</span> <span class="toc-text">异常分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%9E%E4%B8%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">6.1.2.</span> <span class="toc-text">什么是非主属性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%8C%83%E5%BC%8F%E6%A6%82%E5%BF%B5"><span class="toc-number">6.2.</span> <span class="toc-text">2. 范式概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E4%BE%9D%E8%B5%96%E7%9A%84%E5%85%AC%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.3.</span> <span class="toc-text">3. 数据依赖的公理系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%86%E8%A7%A3"><span class="toc-number">6.4.</span> <span class="toc-text">4. 模式的分解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E6%A8%A1%E5%BC%8F%E5%88%86%E8%A7%A3%E7%9A%84%E4%B8%89%E4%B8%AA%E5%AE%9A%E4%B9%89"><span class="toc-number">6.4.1.</span> <span class="toc-text">4.1 模式分解的三个定义</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%88%86%E8%A7%A3%E7%9A%84%E6%97%A0%E6%8D%9F%E8%BF%9E%E6%8E%A5%E6%80%A7%E5%92%8C%E4%BF%9D%E6%8C%81%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E6%80%A7%EF%BC%88%E8%AF%BE%E6%9C%AC%E4%B8%8A%E7%9A%84%E7%AE%97%E6%B3%95%EF%BC%89"><span class="toc-number">6.4.2.</span> <span class="toc-text">4.2 分解的无损连接性和保持函数依赖性（课本上的算法）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC7%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1"><span class="toc-number">7.</span> <span class="toc-text">第7章 数据库设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%AD%97%E5%85%B8"><span class="toc-number">7.1.</span> <span class="toc-text">1. 数据字典</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.2.</span> <span class="toc-text">2. 概念模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-E-R%E6%A8%A1%E5%9E%8B"><span class="toc-number">7.3.</span> <span class="toc-text">3. E-R模型</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC9%E7%AB%A0-%E5%85%B3%E7%B3%BB%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E5%92%8C%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96"><span class="toc-number">8.</span> <span class="toc-text">第9章 关系查询处理和查询优化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%9F%A5%E8%AF%A2%E5%A4%84%E7%90%86%E6%AD%A5%E9%AA%A4"><span class="toc-number">8.1.</span> <span class="toc-text">1. 查询处理步骤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96"><span class="toc-number">8.2.</span> <span class="toc-text">2. 关系数据库系统的查询优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E4%BB%A3%E6%95%B0%E4%BC%98%E5%8C%96%EF%BC%88%E6%9F%A5%E8%AF%A2%E6%A0%91%EF%BC%89"><span class="toc-number">8.3.</span> <span class="toc-text">3. 代数优化（查询树）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC10%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%81%A2%E5%A4%8D%E6%8A%80%E6%9C%AF"><span class="toc-number">9.</span> <span class="toc-text">第10章 数据库恢复技术</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%EF%BC%88%E5%9B%9B%E4%B8%AA%E7%89%B9%E6%80%A7%EF%BC%89"><span class="toc-number">9.1.</span> <span class="toc-text">1. 事务的基本概念（四个特性）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%85%E9%9A%9C%E7%9A%84%E7%A7%8D%E7%B1%BB"><span class="toc-number">9.2.</span> <span class="toc-text">2. 故障的种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%81%A2%E5%A4%8D%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%8A%80%E6%9C%AF"><span class="toc-number">9.3.</span> <span class="toc-text">3. 恢复的实现技术</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6"><span class="toc-number">9.3.1.</span> <span class="toc-text">3.1 日志文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%81%A2%E5%A4%8D%E7%AD%96%E7%95%A5"><span class="toc-number">9.4.</span> <span class="toc-text">4. 恢复策略</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC11%E7%AB%A0-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6"><span class="toc-number">10.</span> <span class="toc-text">第11章 并发控制</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%B0%81%E9%94%81%E5%8D%8F%E8%AE%AE%EF%BC%88%E4%B8%80%E7%BA%A7%E3%80%81%E4%BA%8C%E7%BA%A7%E3%80%81%E4%B8%89%E7%BA%A7%EF%BC%89"><span class="toc-number">10.1.</span> <span class="toc-text">1. 封锁协议（一级、二级、三级）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%B4%BB%E9%94%81%E5%92%8C%E6%AD%BB%E9%94%81"><span class="toc-number">10.2.</span> <span class="toc-text">2. 活锁和死锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B9%B6%E5%8F%91%E8%B0%83%E5%BA%A6%E7%9A%84%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96"><span class="toc-number">10.3.</span> <span class="toc-text">3. 并发调度的可串行化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E8%B0%83%E5%BA%A6"><span class="toc-number">10.3.1.</span> <span class="toc-text">3.1 可串行化调度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%86%B2%E7%AA%81%E5%8F%AF%E4%B8%B2%E8%A1%8C%E5%8C%96%E8%B0%83%E5%BA%A6"><span class="toc-number">10.3.2.</span> <span class="toc-text">3.2 冲突可串行化调度</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%B8%A4%E6%AE%B5%E9%94%81%E5%8D%8F%E8%AE%AE"><span class="toc-number">10.4.</span> <span class="toc-text">4. 两段锁协议</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/article/uncategorized/Pytorch-gpu/" title="无题">无题</a><time datetime="2024-01-18T04:26:28.269Z" title="发表于 2024-01-18 12:26:28">2024-01-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/article/uncategorized/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" title="无题">无题</a><time datetime="2024-01-06T13:21:05.606Z" title="发表于 2024-01-06 21:21:05">2024-01-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/article/uncategorized/%E5%85%AD%E7%BA%A7%E9%AB%98%E8%81%94/" title="无题">无题</a><time datetime="2023-12-15T12:42:10.802Z" title="发表于 2023-12-15 20:42:10">2023-12-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/article/uncategorized/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%AE%B2%E8%AF%BE/" title="无题">无题</a><time datetime="2023-11-06T12:37:03.385Z" title="发表于 2023-11-06 20:37:03">2023-11-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/article/uncategorized/%E5%8F%82%E8%B5%9B%E4%BD%9C%E5%93%81%E7%AE%80%E4%BB%8B/" title="无题">无题</a><time datetime="2023-11-04T07:17:37.485Z" title="发表于 2023-11-04 15:17:37">2023-11-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By zishuQ</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"scriptForm":"local","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"left","width":150,"height":300},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/"});</script></body></html>